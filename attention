se documenter sur Docker usage et tout ce que je croise dans le sujet

tout faire sur VM (virtualbox, ...)
TOUS les fichiers de configuration -> srcs/
makefile: set up toute l'application ( build les Docker images avec "docker-compose.yml")

DOCKER COMPOSE
images:
	chaque image a un nom qui correspond a son service
	chaque image doit etre construite a la main, pas de toute faite, pas de service genre dockerHub ???sujet

services:
	chaque service a son propre dockerfile
	chaque service tourne sur un container dedie

dockerfiles:
	les dockerfile doive etre appeles dans le Docker-compose.yml du makefile

containers:
	les containers sont sous la "penultimate stable version" de alpine ou debian

SETUP:

docker container : NGINX (TLSv1.2/1.3)
docker container : WordPress + php-fpm (a install +config) sans NGINX
docker container : MariaDB sans NGINX
(les containers auto-restart si crash)
Volume : DataBase WordPress
Volume : WordPress website files
docker-network qui gere la connexion entre les containers


sujet:
A Docker container is not a virtual machine. Thus, it is not
recommended to use any hacky patch based on ’tail -f’ and so forth
when trying to run it. Read about how daemons work and whether it’s
a good idea to use them or not.

Of course, using network: host or --link or links: is forbidden.
The network line must be present in your docker-compose.yml file.
Your containers musn’t be started with a command running an infinite
loop. Thus, this also applies to any command used as entrypoint, or
used in entrypoint scripts. The following are a few prohibited hacky
patches: tail -f, bash, sleep infinity, while true.

Read about PID 1 and the best practices for writing Dockerfiles.

DB WordPress : 
2 users:
	administrator (nickname pas *admin*)
	au choix

volumes dans /home/login/data de la machine qui utilise docker (login=ajoliet)

il faut configurer mon domaine pour qu'il pointe sur mon addresse ip locale
nom du domaine : login.42.fr (login=ajoliet)

?? latest tag prohibited
pas de password dans les dockerfiles
recommande d'utiliser un .enf pour les var env, docker secrets pour les info confidentielles
container NGINX est le seul entrypoint dans mon infrastructure via le port 443, TLSv1.2/3

!credentials, api keys, passwd...  save locale de plusieurs manieres/files ignores par git

possible de sotcker mes variables (en tant que nom de domaine) dans .env




commencer par nginx
